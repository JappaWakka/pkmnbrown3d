version=2

@Text.Show(<system.token(FinalDungeon_FinalCave_Phancero_1)>)
@Sound.Play(Cries\1010,1)
:if:<Register.Registered(Dex_Repaired)>=false
	:if:<System.FileExists(Textures\PhanceroDexEntry_Glitched_<system.language>.png)>=true
		@Screen.ShowImage(Textures\PhanceroDexEntry_Glitched_<system.language>)
	:else
		@Screen.ShowImage(Textures\PhanceroDexEntry_Glitched_en)
	:endif
:endif
@Text.Show(<system.token(FinalDungeon_FinalCave_Phancero_2)>)
@NPC.Turn(1,0)
@Sound.Play(Cries\1010,1)
@NPC.SetSpeed(1,0.75)
@NPC.SetMoveY(1,2)
@NPC.Move(1,6)
@Screen.FadeOut(15)
@Camera.Update
@NPC.Remove(1)
@Player.TurnTo(2)
:if:<System.FileExists(Textures\EndingScreen_<system.language>.png)>=true
	@Screen.ShowImage(Textures\EndingScreen_<system.language>)
:else
	@Screen.ShowImage(Textures\EndingScreen_en)
:endif

@Register.Register(Phancero)
:if:<Register.Registered(Dex_Repaired)>=false
	@Register.Register(Dex_Glitched)
:endif
:if:<Register.Value(PhanceroShiny)>=true
	@Pokedex.ChangeEntry(1011,3)
:else
	@Pokedex.ChangeEntry(1011,2)
:endif
@Entity.Remove(0)
@player.save
@level.waitforsave
@sound.play(Save)
@screen.credits(Rijon)
@Camera.SetToPlayerFacing
@Screen.FadeIn(15)
@Camera.Update

:end