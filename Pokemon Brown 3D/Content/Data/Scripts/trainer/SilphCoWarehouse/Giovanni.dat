version=2

:if:<Register.Registered(BeatGiovanni)>=false
	:if:<Player.Position(x)>=7
		@Player.TurnTo(0)
	:endif
	@Text.Show(<system.token(Route59_SilphCoWarehouse_4F_RocketLeaderGiovanni_BeforeBattle)>)
	@music.play(Encounter_Rocket)
	:if:<player.position(x)>=6
		:if:<Player.ThirdPerson>=false
			@NPC.MoveAsync(1,1)
			@Player.TurnTo(1)
			@NPC.Move(1,1)
			@npc.turn(1,3)
		:else
			@NPC.Move(1,1)
			@Player.TurnTo(1)
			@NPC.Move(1,1)
			@NPC.Turn(1,3)
		:endif
	:else
		@npc.move(1,2)
	:endif
	@Battle.StartTrainer(SilphCoWarehouse\Giovanni)
	@Text.Show(<system.token(Route59_SilphCoWarehouse_4F_RocketLeaderGiovanni_AfterBattle)>)
	@Register.Register(BeatGiovanni)
	@Screen.FadeOut(15)
	@camera.update
	@npc.remove(0)
	@npc.remove(1)
	@npc.register(Routes\59\SilphCoWarehouse\2F.dat|0|remove)
	@npc.register(Routes\59\SilphCoWarehouse\2F.dat|1|remove)
	@npc.register(Routes\59\SilphCoWarehouse\2F.dat|2|remove)
	@npc.register(Routes\59\SilphCoWarehouse\2F.dat|3|remove)
	@npc.register(Routes\59\SilphCoWarehouse\3F.dat|0|remove)
	@npc.register(Routes\59\SilphCoWarehouse\3F.dat|4|remove)
	@npc.register(Routes\59\SilphCoWarehouse\3F.dat|7|remove)
	@npc.register(Routes\59\SilphCoWarehouse\4F.dat|0|remove)
	@npc.register(Routes\59\SilphCoWarehouse\4F.dat|1|remove)
	
	@npc.unregister(Botan\Main.dat|0|remove)
	@npc.unregister(Botan\Main.dat|1|remove)
	@npc.unregister(Botan\Main.dat|2|remove)
	@npc.unregister(Botan\Main.dat|3|remove)
	@npc.unregister(Botan\Main.dat|4|remove)
	@npc.unregister(Botan\Main.dat|5|remove)
	@npc.unregister(Botan\Main.dat|6|remove)
	@npc.register(Botan\Main.dat|7|remove)
	@npc.register(Botan\Main.dat|8|remove)
	@npc.register(Botan\Main.dat|9|remove)
	@npc.register(Botan\Main.dat|10|remove)
	@npc.register(Botan\Main.dat|11|remove)
	
	@npc.unregister(Gyms\Eagulou.dat|8|remove)
	@npc.register(Gyms\Eagulou.dat|9|remove)
	
	@screen.fadein(15)
	@camera.update
:endif
:end