version=2

:if:<register.registered(marinebadge_obtain)>=False
	@text.show(<system.token(Merson_Gym_Karpman_BeforeBattle)>)
	@battle.starttrainer(Gyms\Merson\Leader)
	@Register.register(marinebadge_obtain)
	@register.register(trainer_Gyms\merson\000)
	@player.GetBadge(1)
	@Text.show(<system.token(Merson_Gym_Karpman_AfterBattle1)>)
	@item.give(gm12,1)
	@item.messagegive(gm12,1)
	@Text.show(<system.token(Merson_Gym_Karpman_AfterBattle2)>)
:else
	@text.show(<system.token(Merson_Gym_Karpman_TalkAgain)>)
:endif
:end