version=2

:if:<Register.Registered(marinebadge_obtain)>=False
	@Text.Show(<system.token(Merson_Gym_LeaderKarpman_BeforeBattle)>)
	@Battle.StartTrainer(Gyms\Merson\Leader)
	@Register.Register(marinebadge_obtain)
	@Register.Register(trainer_Gyms\merson\000)
	@Player.GetBadge(1)
	@Text.Show(<system.token(Merson_Gym_LeaderKarpman_AfterBattle1)>)
	@Item.Give(gm30,1)
	@Item.MessageGive(gm30,1)
	@Text.Show(<system.token(Merson_Gym_LeaderKarpman_AfterBattle2)>)
:else
	@Text.Show(<system.token(Merson_Gym_LeaderKarpman_TalkAgain)>)
:endif
:end