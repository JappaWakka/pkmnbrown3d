version=2
@text.show(<system.token(Hayward_Main_OrbGirl_HaveAnyOrbs)>)
@storage.set(boolean,HaveOrb,0)

:if:<inventory.countitem(gm3)>=1 <or> <inventory.countitem(gm4)>=1 <or> <inventory.countitem(gm5)>=1
	@storage.set(boolean,HaveOrb,1)
:endif

:if:<storage.get(boolean,HaveOrb)>=true
	@text.show(<system.token(Hayward_Main_OrbGirl_Question_GiveOrbs)>)
	@options.show(<system.token(global_yes)>,<system.token(global_no)>)
	:when:<system.token(global_yes)>
		@item.select(standard,gm3-gm5)
		:if:<inventory.selected>=gm3
			:if:<register.registered(OrbGirl_Red)>=false
				@text.show(Red Orb?*Nice!*Take this rare TM!)
				@sound.play(Success_Small,1)
				@item.give(220,1)
				@item.messagegive(220,1)
				@text.show(TM 30 contains Shadow Ball!*It's a great~Ghost move!)
				@register.register(OrbGirl_Red)
				:end
			:else
				@text.show(I don't need that Orb.)
				:end
			:endif
		:endif
		:if:<inventory.selected>=gm4
			:if:<register.registered(OrbGirl_Blue)>=false
				@text.show(Great, a Blue Orb!*Take this as a reward!)
				@sound.play(Success_Small,1)
				@item.give(481,1)
				@item.messagegive(481,1)
				@text.show(TM 181 contains Megahorn!*Great for any Pok√©mon~with horns!)
				@register.register(OrbGirl_Blue)
				:end
			:else
				@text.show(I don't need that Orb.)
				:end
			:endif
		:endif
		:if:<inventory.selected>=gm5
			:if:<register.registered(OrbGirl_Green)>=false
				@text.show(Excellent, a Green Orb!*You deserve this!)
				@sound.play(Success_Small,1)
				@item.give(216,1)
				@item.messagegive(216,1)
				@text.show(TM 26 contains Earthquake!*It's great for shaking~things up a bit!)
				@register.register(OrbGirl_Green)
				:end
			:else
				@text.show(I don't need that Orb.)
				:end
			:endif
		:endif
	:endwhen
:endif
:end