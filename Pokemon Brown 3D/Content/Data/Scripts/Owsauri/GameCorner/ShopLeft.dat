version=2
	
@text.show(<system.token(Owsauri_GameCornerB1F_Shop_Intro)>)
@options.setcancelindex(3)
@options.show(<system.token(Owsauri_GameCornerB1F_Shop_Left_Chikorita)>,<system.token(Owsauri_GameCornerB1F_Shop_Left_Cyndaquil)>,<system.token(Owsauri_GameCornerB1F_Shop_Left_Totodile)>,<system.token(Owsauri_GameCornerB1F_Shop_NoThanks)>)
	:when:<system.token(Owsauri_GameCornerB1F_Shop_Left_Chikorita)>
		@storage.set(int,PokeNumber,152)
		@storage.set(int,Cost,2500)
	:when:<system.token(Owsauri_GameCornerB1F_Shop_Left_Cyndaquil)>
		@storage.set(int,PokeNumber,155)
		@storage.set(int,Cost,2500)
	:when:<system.token(Owsauri_GameCornerB1F_Shop_Left_Totodile)>
		@storage.set(int,PokeNumber,158)
		@storage.set(int,Cost,2500)
	:when:<system.token(Owsauri_GameCornerB1F_Shop_NoThanks)>
		@storage.clear
		:end
:endwhen

:if:<storage.get(int,Cost)>><player.coins>
	@text.show(<system.token(Owsauri_GameCornerB1F_Shop_NotEnoughCoins)>)
:else
	@text.show(<system.token(Owsauri_GameCornerB1F_Shop_ChoosePokemon)>)
	@options.show(<system.token(global_yes)>,<system.token(global_no)>)
	:when:<system.token(global_yes)>
		:if:<system.random(0,<math.floor(<pokemon.mastershinyrate>/2)>)>=0
			@storage.set(int,PokeShiny,1)
		:else
			@storage.set(int,PokeShiny,0)
		:endif
		
		@text.show(<system.token(Owsauri_GameCornerB1F_Shop_ReceivedPokemon)>)
		@player.addcoins(-<storage.get(int,Cost)>)
		@sound.play(buy)
		@pokemon.add(<storage.get(int,PokeNumber)>,10,<system.token(Owsauri_GameCornerB1F_Shop_PokemonCatchMethod)>,5,<system.token(Owsauri_GameCornerB1F_Shop_PokemonCatchLocation)>,0,<player.name>,0,<storage.get(int,PokeShiny)>)
		@pokemon.rename(<math.int(<pokemon.count>-1)>)
		:if:<pokemon.count>>6
			@text.show(<system.token(Owsauri_GameCornerB1F_Shop_PokemonToPC)>)
			@pokemon.sendtostorage(<math.int(<pokemon.count>-1)>)
		:endif
	:endwhen
:endif
@storage.clear
:end