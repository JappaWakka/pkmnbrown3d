version=2
:if:<Register.Registered(pokemongot)>=False
	@screen.showpokemon(4,0,1)
	@Text.Show(Tim: You'll take~Charmander, the fire~Pokémon?)
	@options.show(<system.token(global_yes)>,<system.token(global_no)>)
		:when:<system.token(global_yes)>
			@NPC.remove(1)
			@NPC.register(TimsLab.dat|1|remove)
			@Register.Register(pokemongot)
			@Register.Register(starter1)
			@register.unregister(tim1)
			@register.unregister(mura1)
			@Register.Register(tim2)
			@Register.Register(mura2)
			@Text.Show(Tim: I think that's a~great Pokémon too!)
			@pokemon.add(4,5,As a gift from Prof. Tim,5,at Gravel Town)
			@Text.Show(<player.name> received~a Charmander!)
			@pokemon.rename(0)
			:if:<player.position>=6,0,3
				@NPC.turn(4,2)
				@NPC.move(4,2)
				@NPC.turn(4,3)
				@NPC.move(4,3)
				@NPC.turn(4,0)
				@NPC.move(4,1)
				@Text.Show(Mura: I'll take this one, then!)
				@NPC.remove(2)
				@Text.Show(Mura received a Squirtle!)
			:endif
		:when:<system.token(global_no)>
			@Text.Show(Tim: Think it over~carefully.*Your partner is~important.)
		:endwhen
:else
	@Text.Show(It contains a Pokémon~caught by Prof. Tim.)
:endif
:end