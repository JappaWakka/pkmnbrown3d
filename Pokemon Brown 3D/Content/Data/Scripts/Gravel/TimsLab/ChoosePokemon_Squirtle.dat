version=2
:if:<Register.Registered(pokemongot)>=false
	@screen.showpokemon(7,<register.value(Shiny_Starter_Squirtle)>,1)
	@Text.Show(<system.token(Gravel_TimsLab_Choose_Squirtle)>)
	@options.show(<system.token(global_yes)>,<system.token(global_no)>)
		:when:<system.token(global_yes)>
			@NPC.remove(2)
			@NPC.register(TimsLab.dat|2|remove)
			@Register.Register(pokemongot)
			@Register.Register(Starter_Squirtle)
			@register.unregister(tim1)
			@register.unregister(mura1)
			@Register.Register(tim2)
			@Register.Register(mura2)
			@Text.Show(<system.token(Gravel_TimsLab_Choose_Confirm)>)
			@pokemon.add(7,5,<system.token(Gravel_TimsLab_StarterPokemon_CatchMethod)>,5,<system.token(Gravel_TimsLab_StarterPokemon_CatchLocation)>,0,<player.name>,0,<register.value(Shiny_Starter_Squirtle)>)
			@overworldpokemon.hide
			@sound.play(success,1)
			@Text.Show(<system.token(Gravel_TimsLab_Receive_Squirtle)>)
			@pokemon.rename(0)
			:if:<player.position>=7,0,3
				@NPC.turn(4,2)
				@NPC.move(4,2)
				@NPC.turn(4,3)
				@NPC.move(4,4)
				@NPC.turn(4,0)
				@NPC.move(4,1)
				@Text.Show(<system.token(Gravel_TimsLab_Mura_ChoosePokemon)>)
				@NPC.remove(3)
				@Text.Show(<system.token(Gravel_TimsLab_Mura_Receive_Bulbasaur)>)
			:endif
		:when:<system.token(global_no)>
			:end		
		:endwhen
:else
	@Text.Show(<system.token(Gravel_TimsLab_PokeballAfterChoose)>)
:endif
:end